<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="sample.css"/>
    <title>åŒ–ç²§å“ãƒ¡ãƒ¢</title>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ’„memoğŸ’„</h1>

      <!-- ãƒ¡ãƒ¢ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
      <div class="input-container">
        <label for="itemName">ã‚¢ã‚¤ãƒ†ãƒ å:</label>
        <select id="itemName" required>
          <option value="" disabled selected>é¸æŠã—ã¦ãã ã•ã„</option>
          <!-- ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦ -->
          <optgroup label="ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦">
            <option value="ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦ãƒšãƒ³ã‚·ãƒ«">ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦ãƒšãƒ³ã‚·ãƒ«</option>
            <option value="ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦">ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦</option>
            <option value="çœ‰ãƒã‚¹ã‚«ãƒ©">çœ‰ãƒã‚¹ã‚«ãƒ©</option>
            <option value="ãã®ä»–ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦">ãã®ä»–ã‚¢ã‚¤ãƒ–ãƒ­ã‚¦</option>
          </optgroup>
          <!-- å£ç´…ãƒ»ã‚°ãƒ­ã‚¹ãƒ»ãƒªãƒƒãƒ—ãƒ©ã‚¤ãƒŠãƒ¼ -->
          <optgroup label="å£ç´…ãƒ»ã‚°ãƒ­ã‚¹ãƒ»ãƒªãƒƒãƒ—ãƒ©ã‚¤ãƒŠãƒ¼">
            <option value="å£ç´…">å£ç´…</option>
            <option value="ãƒªãƒƒãƒ—ã‚°ãƒ­ã‚¹">ãƒªãƒƒãƒ—ã‚°ãƒ­ã‚¹</option>
            <option value="ãƒªãƒƒãƒ—ãƒ©ã‚¤ãƒŠãƒ¼">ãƒªãƒƒãƒ—ãƒ©ã‚¤ãƒŠãƒ¼</option>
          </optgroup>
          <!-- ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼ -->
          <optgroup label="ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼">
            <option value="ãƒªã‚­ãƒƒãƒ‰ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼">ãƒªã‚­ãƒƒãƒ‰ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼</option>
            <option value="ãƒšãƒ³ã‚·ãƒ«ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼">ãƒšãƒ³ã‚·ãƒ«ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼</option>
            <option value="ã‚¸ã‚§ãƒ«ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼">ã‚¸ã‚§ãƒ«ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼</option>
            <option value="ãã®ä»–ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼">ãã®ä»–ã‚¢ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼</option>
          </optgroup>
          <!-- ã‚¢ã‚¤ã‚·ãƒ£ãƒ‰ã‚¦ -->
          <optgroup label="ã‚¢ã‚¤ã‚·ãƒ£ãƒ‰ã‚¦">
            <option value="ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¢ã‚¤ã‚·ãƒ£ãƒ‰ã‚¦">ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¢ã‚¤ã‚·ãƒ£ãƒ‰ã‚¦</option>
            <option value="ã‚¸ã‚§ãƒ«ãƒ»ã‚¯ãƒªãƒ¼ãƒ ã‚¢ã‚¤ã‚·ãƒ£ãƒ‰ã‚¦">
              ã‚¸ã‚§ãƒ«ãƒ»ã‚¯ãƒªãƒ¼ãƒ ã‚¢ã‚¤ã‚·ãƒ£ãƒ‰ã‚¦
            </option>
          </optgroup>
          <!-- ãƒãƒ¼ã‚¯ -->
          <optgroup label="ãƒãƒ¼ã‚¯">
            <option value="ãƒ‘ã‚¦ãƒ€ãƒ¼ãƒãƒ¼ã‚¯">ãƒ‘ã‚¦ãƒ€ãƒ¼ãƒãƒ¼ã‚¯</option>
            <option value="ã‚¸ã‚§ãƒ«ãƒ»ã‚¯ãƒªãƒ¼ãƒ ãƒãƒ¼ã‚¯">
              ã‚¸ã‚§ãƒ«ãƒ»ã‚¯ãƒªãƒ¼ãƒ ãƒãƒ¼ã‚¯
            </option>
          </optgroup>
          <!-- ãƒã‚¹ã‚«ãƒ© -->
          <optgroup label="ãƒã‚¹ã‚«ãƒ©">
            <option value="ãƒã‚¹ã‚«ãƒ©">ãƒã‚¹ã‚«ãƒ©</option>
            <option value="ãƒã‚¹ã‚«ãƒ©ä¸‹åœ°ãƒ»ãƒˆãƒƒãƒ—ã‚³ãƒ¼ãƒˆ">
              ãƒã‚¹ã‚«ãƒ©ä¸‹åœ°ãƒ»ãƒˆãƒƒãƒ—ã‚³ãƒ¼ãƒˆ
            </option>
          </optgroup>
        </select>

        <label for="brandName">ãƒ–ãƒ©ãƒ³ãƒ‰åï¼ˆã‚«ã‚¿ã‚«ãƒŠã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼‰:</label>
        <input
          type="text"
          id="brandName"
          required
          pattern="[\u30A1-\u30F6\s]*"
        />

        <label for="purchaseDate">è³¼å…¥æ—¥ä»˜:</label>
        <input type="date" id="purchaseDate" required />

        <label for="purchaseLocation">è³¼å…¥å ´æ‰€:</label>
        <input type="text" id="purchaseLocation" required />

        <label for="purchaseAmount">è³¼å…¥é‡‘é¡:</label>
        <input type="number" id="purchaseAmount" required />

        <label for="repurchase">å†è³¼å…¥äºˆå®š:</label>
        <select id="repurchase">
          <option value="ã‚ã‚Š">ã‚ã‚Š</option>
          <option value="ãªã—">ãªã—</option>
        </select>

         <!-- ãƒ¡ãƒ¢ã‚’è¿½åŠ ã™ã‚‹ãƒœã‚¿ãƒ³ -->
         <button onclick="addItem()">ãƒ¡ãƒ¢ã‚’è¿½åŠ ã™ã‚‹</button>
        <!-- ãƒ¡ãƒ¢è¿½åŠ ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
        <p id="addMessage" style="display:none;">ãƒ¡ãƒ¢ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚</p>
        <!-- ä¿å­˜ã—ãŸãƒ¡ãƒ¢ãƒªã‚¹ãƒˆ -->
        <div id="memoList"></div>

    <script>
      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ä¿å­˜ã•ã‚ŒãŸãƒ¡ãƒ¢ã‚’è¡¨ç¤º
      window.onload = function () {
          displayStoredMemos();
        };

        // ãƒ¡ãƒ¢ã‚’è¿½åŠ ã™ã‚‹é–¢æ•°
        function addItem() {
          const itemNameValue = document.getElementById('itemName').value;
          const brandNameValue = document.getElementById('brandName').value;
          const repurchaseValue = document.getElementById('repurchase').value;
          const purchaseDateValue = document.getElementById('purchaseDate').value;
          const purchaseLocationValue = document.getElementById('purchaseLocation').value;
          const purchaseAmountValue = document.getElementById('purchaseAmount').value;

          // ãƒ¡ãƒ¢ã®æ•°ã‚’å–å¾—
          const memoCount = document.querySelectorAll('.memo-sticker').length + 1;

          const memoContent = `
            <div class="memo-sticker">
              <p>No: ${memoCount}</p>
              <p>ã‚¢ã‚¤ãƒ†ãƒ å: ${itemNameValue}</p>
              <p>ãƒ–ãƒ©ãƒ³ãƒ‰å: ${brandNameValue}</p>
              <p>å†è³¼å…¥äºˆå®š: ${repurchaseValue}</p>
              <p>è³¼å…¥æ—¥ä»˜: ${purchaseDateValue}</p>
              <p>è³¼å…¥å ´æ‰€: ${purchaseLocationValue}</p>
              <p>è³¼å…¥é‡‘é¡: ${purchaseAmountValue} å††</p>
            </div>
          `;

          document.getElementById('memoList').insertAdjacentHTML('beforeend', memoContent);
          resetForm(); // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ

          // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
          document.getElementById('addMessage').style.display = 'block';
          setTimeout(() => {
            document.getElementById('addMessage').style.display = 'none';
          }, 3000); // 3ç§’å¾Œã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã™ã‚‹

          // ä¿å­˜ã•ã‚ŒãŸãƒ¡ãƒ¢ã‚’æ›´æ–°
          updateStoredMemos();
        }

        // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹é–¢æ•°
        function resetForm() {
          document.getElementById('itemName').value = '';
          document.getElementById('brandName').value = '';
          document.getElementById('repurchase').value = 'ã‚ã‚Š';
          document.getElementById('purchaseDate').value = '';
          document.getElementById('purchaseLocation').value = '';
          document.getElementById('purchaseAmount').value = '';
        }

        // ä¿å­˜ã•ã‚ŒãŸãƒ¡ãƒ¢ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å–å¾—ã—ã¦è¡¨ç¤º
        function displayStoredMemos() {
          const storedMemos = JSON.parse(localStorage.getItem('memos')) || [];
          const memoListElement = document.getElementById('memoList');

          storedMemos.forEach((memo, index) => {
            const memoContent = `
              <div class="memo-sticker">
                <p>No: ${index + 1}</p>
                <p>ã‚¢ã‚¤ãƒ†ãƒ å: ${memo.itemName}</p>
                <p>ãƒ–ãƒ©ãƒ³ãƒ‰å: ${memo.brandName}</p>
                <p>å†è³¼å…¥äºˆå®š: ${memo.repurchase}</p>
                <p>è³¼å…¥æ—¥ä»˜: ${memo.purchaseDate}</p>
                <p>è³¼å…¥å ´æ‰€: ${memo.purchaseLocation}</p>
                <p>è³¼å…¥é‡‘é¡: ${memo.purchaseAmount} å††</p>
              </div>
            `;
            memoListElement.insertAdjacentHTML('beforeend', memoContent);
          });
        }

        // ç¾åœ¨ã®ãƒ¡ãƒ¢ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
        function updateStoredMemos() {
          const itemNameValue = document.getElementById('itemName').value;
          const brandNameValue = document.getElementById('brandName').value;
          const repurchaseValue = document.getElementById('repurchase').value;
          const purchaseDateValue = document.getElementById('purchaseDate').value;
          const purchaseLocationValue = document.getElementById('purchaseLocation').value;
          const purchaseAmountValue = document.getElementById('purchaseAmount').value;

          const newMemo = {
            itemName: itemNameValue,
            brandName: brandNameValue,
            repurchase: repurchaseValue,
            purchaseDate: purchaseDateValue,
            purchaseLocation: purchaseLocationValue,
            purchaseAmount: purchaseAmountValue,
          };

          const storedMemos = JSON.parse(localStorage.getItem('memos')) || [];
          storedMemos.push(newMemo);

          localStorage.setItem('memos', JSON.stringify(storedMemos));
        }
    </script>
  </body>
</html>
